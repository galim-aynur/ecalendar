<h1>Events</h1>

<% if user_signed_in? %>
  <%= link_to 'New event', new_event_path %>
  <%= link_to 'Events', events_path %>
  <%= link_to 'My events', events_path(e: 'my-events') %>
<% end %>

<hr>

<%= month_calendar events: @calendar_events do |day, events| %>
  <div><%= day.to_s(:short) %></div>
  <% events.each do |event| %>
    <div>
      <%= link_to event.title, event_path(event) %>
      <% if event.user == current_user %>
        (<%= link_to 'Edit', edit_event_path(event) %>)
      <% end %>
    </div>
  <% end %>
<% end %>

<hr>

<table>
  <tr>
    <th>Title</th>
    <th>Starts At</th>
    <th colspan="3"></th>
  </tr>
 
  <% @events.each do |event| %>
    <tr>
      <td><%= event.title %></td>
      <td><%= event.start_time %></td>
      <td><%= link_to 'Show', event_path(event) %></td>
      <td><%= link_to 'Edit', edit_event_path(event) %></td>
      <td><%= link_to 'Destroy', event_path(event),
              method: :delete,
              data: { confirm: 'Are you sure?' } %></td>
    </tr>
  <% end %>
</table>
